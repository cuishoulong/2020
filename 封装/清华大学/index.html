<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>清华大学-新闻大学新闻网</title>
    <link rel="shortcut icon" href="https://news.tsinghua.edu.cn/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2286484_65of2z1rq5d.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        a {
            text-decoration: none;
            color: #fff;
        }

        a:hover {
            color: #f4930a;
        }

        ul,
        ol {
            list-style: none;
        }

        html {
            font-size: 10px;
            background: url(https://news.tsinghua.edu.cn/dfiles/20186/publish/thunews/images/bg_02.jpg);
        }

        .heart {
            width: 120rem;
            margin: 0 auto;
        }

        /* 抬头 */
        #header {
            width: 100%;
            height: 16rem;
            background: url(https://news.tsinghua.edu.cn/dfiles/20186/publish/thunews/images/bg_01.jpg) center center;
            box-sizing: border-box;
            padding-top: 2.5rem;
        }

        /* 版心 */
        #headerTop {
            height: 7.5rem;
        }

        hr {
            border: none;
            border-bottom: 1px solid #9450df;
        }

        /* logo */
        #logo a {
            display: block;
            width: 26.8rem;
            height: 5.5rem;
            margin-left: 1rem;
            margin-bottom: 2rem;
            background: url(https://news.tsinghua.edu.cn/dfiles/20186/publish/thunews/images/logo.jpg)no-repeat center center;
            background-size: contain;
        }

        #headerCen input {
            width: 29rem;
            height: 3.6rem;
            padding: 0 1rem;
            border: 0;
            outline: none;
        }

        #headerCen span {
            display: inline-block;
            outline: none;
            width: 5rem;
            height: 3.6rem;
            background-color: #f4930a;
        }

        #headerRig {
            display: flex;
            align-items: center;
            margin-right: 2.6rem;
            text-align: center;
            line-height: 2.6rem;
            width: 24.6rem;
            justify-content: space-between;
        }

        #headerRig a {
            display: inline-block;
            height: 2.6rem;
        }

        #headerRig a:nth-child(4) {
            width: 5.2rem;
            height: 2.6rem;
            padding: 0 1.5rem;
            background-color: #f4930a;
            margin-right: 2rem;
        }

        #headerRig a:nth-child(4):hover {
            background-color: #fff;
        }


        .logo {
            width: 2.6rem;
            background-color: #fff;
        }

        #headerTop {
            display: flex;
            justify-content: space-between;
        }

        #headerCen {
            display: flex;
            align-items: center;
        }

        #headerBot {
            font-size: 1.5rem;
            height: 6rem;
            line-height: 6rem;
            display: flex;
            justify-content: space-between;
        }

        #headerBot li {
            padding: 0 1.2rem;
        }

        #headerBot .active {
            height: 5.7rem;
            border-bottom: 3px solid #f4930a;
        }

        /* 内容 */
        #content {
            box-sizing: border-box;
            padding-top: 4rem;
            display: flex;
            justify-content: space-between;
        }

        #contLeft {
            width: 65rem;
        }

        #contRight {
            width: 29rem;
        }

        #news>h2 {
            height: 3.44rem;
            padding-bottom: 2.38rem;
            font-size: 2.8rem;
            color: #59228A;
            border-bottom: 2px solid #59228A;
        }

        #news>ul {
            padding-top: 3.5rem;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        #news>ul li {
            width: 31rem;
            height: 38rem;
            margin-bottom: 3rem;
            position: relative;
        }

        #news>ul li .scal {
            display: block;
            width: 30.8rem;
            height: 19rem;
            overflow: hidden;
        }

        #news>ul li img {
            display: block;
            width: 30.8rem;
            height: 19rem;
        }

        #news>ul li img:hover {
            transform: scale(1.04);
            transition: all 0.5s linear;
        }

        .time {
            width: 5rem;
            box-sizing: border-box;
            background-color: rgba(244, 147, 10, 0.8);
            padding-top: 0.7rem;
            text-align: center;
            color: #fff;
            height: 5.2rem;
            position: absolute;
            left: 2rem;
            top: 12rem;
        }

        .time p {
            font-size: 2.4rem;
            font-weight: bold;
            line-height: 2.4rem;
            margin-bottom: 0.16rem;
        }

        .time span {
            font-size: 1.2rem;
        }

        .title {
            display: block;
            font-size: 1.6rem;
            color: #333;
            padding: 1.6rem 0 1.2rem;
        }

        .context {
            font-size: 1.2rem;
            color: #777;
            line-height: 2rem;
            padding-right: 1rem;
        }

        /* 左边的文字列表 */
        #colum {
            border-top: 0.2rem solid #d0d0d0;
            padding-top: 1rem;
        }

        .contT {
            padding: 0;
            margin-bottom: 0.5rem;
        }

        .contTime {
            position: static;
            height: 6rem;
            color: #8c7a9c;
            background-color: transparent;
        }

        #colum li {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #dcdcdc;
            padding: 1.5rem 0;
            align-items: center;
        }

        .cont {
            width: 58rem;
        }

        /* 右边栏 */
        .cRT {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: #471b6f;
            line-height: 3.6rem;
            font-weight: normal;
            display: flex;
            justify-content: space-between;
        }

        .cRT span {
            width: 3.6rem;
            height: 3.6rem;
            background-color: #59228a;
            margin-right: 1.5rem;
        }

        .cRT div {
            display: flex;
        }

        .cRT a {
            font-size: 1.2rem;
            color: #999;
        }

        /* 轮播 */
        #swiper {
            overflow: hidden;
            height: 17.9rem;
            position: relative;
        }

        #swipUl {
            height: 17.9rem;
            left: 0;
            position: absolute;
            display: flex;
        }

        #swipUl li {
            position: relative;
        }

        #swipUl li img {
            display: block;
            height: 17.9rem;
        }

        #swipUl li span {
            position: absolute;
            left: 0;
            bottom: 0;
            display: block;
            padding: 1.625rem 1.95rem;
            font-size: 1.3rem;
            color: #fff;
            background-color: rgba(0, 0, 0, 0.5);
        }

        #spot {
            width: 29rem;
            margin-top: 2rem;
            display: flex;
            justify-content: center;
        }

        #spot li {
            width: 1.2rem;
            height: 1.2rem;
            background-color: #ABABAB;
            border-radius: 50%;
            margin: 0 0.5rem;
            cursor: pointer;
        }

        /* 轮播的左右按钮 */
        .btn {
            height: 6rem;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            width: 29rem;
            justify-content: space-between;
        }

        .btn span {
            width: 5rem;
            text-align: center;
            background: rgba(0, 0, 0, 0.6);
            line-height: 6rem;
            display: none;
        }

        .btn span:hover {
            color: #f4930a;
        }

        #spot li.spactive {
            background-color: #f4930a;
        }

        /* 抬头2 */
        .cdRt {
            margin-top: 2.4rem;
            padding-bottom: 2rem;
            border-bottom: 0.2rem solid #d6d6d6;
        }

        /* 精彩视频 */
        #move {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        #move li {
            width: 13.5rem;
            padding-top: 2rem;
            position: relative;
        }

        #move img {
            display: block;
            height: 8.4rem;
        }

        #move a {
            font-size: 1.2rem;
            color: #555;
            /* 多行超出省略的必备条件 */
            display: -webkit-box;
            /* 弹性盒模型 */
            -webkit-box-orient: vertical;
            /* 元素垂直居中*/
            -webkit-line-clamp: 2;
            /*  文字显示的行数*/
            overflow: hidden;
            margin-top: 1rem;
            line-height: 2rem;
        }

        #move a:hover {
            color: #f4930a;
        }

        #move li b {
            position: absolute;
            left: 1rem;
            top: 6rem;
            width: 3rem;
            height: 3rem;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            border: 2px solid #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #move li b span {
            margin-left: 1.2rem;
            width: 0;
            height: 0;
            border: 1rem solid #f4930a;
            border-color: transparent transparent transparent #f4930a;
        }

        .col {
            color: #bd2980;
        }

        .col span {
            background: #bd2980;
        }

        /* 近期热点 */
        #hot li {
            padding-bottom: 2rem;
            border-bottom: 1px dotted #bababa;
        }

        .hotBox {
            height: 2.7rem;
            line-height: 2.7rem;
            font-size: 1.2rem;
            color: #999;
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .hotBox span {
            margin-right: 1rem;
        }

        .hotBox .iconfont {
            font-size: 1.4rem;
        }

        .icon-naozhong {
            color: #f4930a;
        }

        #hot a {
            color: #555;
            font-size: 1.2rem;
            line-height: 2rem;
        }

        #hot a:hover {
            color: #f4930a;
        }

        /* 底部 */
        #footer {
            margin-top: 6rem;
            background-color: #989895;
            padding: 3.5rem 0;
            font-size: 1.2rem;

        }

        #footer .heart {
            display: flex;
            align-items: center;
        }

        #footer img {
            display: block;
            width: 6.3rem;
            height: 6.3rem;
        }

        #footBox {
            margin-left: 2rem;
            height: 6.3rem;
            width: 50rem;
        }

        #footBox span {
            font-size: 1.2rem;
            color: #fff;
            margin: 0 1rem;
        }

        #footBox p {
            margin-top: 0.6rem;
            color: #D4D4D4;
            line-height: 2rem;
        }

        video {
            overflow: -Scroll;
            overflow-x: hidden;
            width: 100%;
            display: none;
        }

        #paging {
            margin: 1.4rem auto;
            width: 300px;
            display: flex;
        }

        #paging ul {
            display: flex;
        }

        #paging ul li,
        #paging span {
            padding: 0.5rem 0.8rem;
            background-color: #fff;
            border: 1px solid #ccc;
            margin-left: 1rem;
            cursor: pointer;
        }

        #paging ul li.active {
            background-color: #461B6E;
            border-color: #461B6E;
            color: #fff;
        }
    </style>
</head>

<body>
    <div id="header">
        <div id="headerTop" class="heart">
            <h1 id="logo"><a href="javascript:;"></a></h1>
            <div id="headerCen">
                <input type="text" name="" id="">
                <span id="btn"></span>
            </div>
            <div id="headerRig">
                <a href="" class="logo"></a>
                <a href="" class="logo"></a>
                <a href="" class="logo"></a>
                <a href=""></a>
                <a href="">清华主页</a>
            </div>
        </div>
        <!-- <div class="hr"></div> -->
        <hr>
        <ul id="headerBot" class="heart">
            <li><a href="javascript:;">首页</a></li>
            <li><a href="javascript:;">头条新闻</a></li>
            <li><a href="javascript:;">综合新闻</a></li>
            <li class="active"><a href="javascript:;">专题新闻</a></li>
            <li><a href="javascript:;">要闻聚焦</a></li>
            <li><a href="javascript:;">媒体清华</a></li>
            <li><a href="javascript:;">媒体清华</a></li>
            <li><a href="javascript:;">图说清华</a></li>
            <li><a href="javascript:;">视频空间</a></li>
            <li><a href="javascript:;">清华人物</a></li>
            <li><a href="javascript:;">清华人物</a></li>
            <li><a href="javascript:;">校园写意</a></li>
            <li><a href="javascript:;">新闻排行</a></li>
            <li><a href="javascript:;">新闻合集</a></li>
        </ul>

    </div>
    <div id="content" class="heart">
        <!-- 内容左 -->
        <div id="contLeft">
            <!-- 专题新闻 -->
            <div id="news">
                <h2>专题新闻</h2>
                <ul>
                </ul>
            </div>
            <ul id="colum">
            </ul>
            <div id='paging'>
                <span>上一页</span>
                <ul>
                    <li class="active">1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                </ul>
                <span>下一页</span>
            </div>
        </div>
        <!-- 内容右 -->
        <div id="contRight">
            <!-- 头 -->
            <h2 class="cRT">
                <div><span></span>图说清华</div>
                <a href="javascript:;">更多></a>
            </h2>
            <!-- 轮播壳子 -->
            <div id="swd">
                <!-- 轮播 -->
                <div id="swiper">
                    <ul id="swipUl">
                    </ul>
                    <!-- 轮播左右按钮 -->
                    <div class="btn">
                        <span>
                            <</span> <span>>
                        </span>
                    </div>
                </div>
                <!-- 轮播下面的点点 -->
                <ul id="spot">
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
            </div>
            <!-- 头 -->
            <h2 class="cRT cdRt">
                <div><span></span>精彩视频</div>
                <a href="javascript:;">更多></a>
            </h2>
            <!-- 精彩视频 -->
            <ul id="move">
            </ul>
            <!-- 近期热点 -->
            <h2 class="cRT cdRt col">
                <div><span></span>近期热点</div>
            </h2>
            <ul id="hot">
            </ul>
        </div>
    </div>
    <div id="footer">
        <div class="heart">
            <img src="https://news.tsinghua.edu.cn/dfiles/20186/publish/thunews/images/thulogo.jpg" alt="">
            <div id="footBox">
                <div>
                    <a href="javascript:;">网站新闻</a>
                    <span>|</span>
                    <a href="javascript:;">关于我们</a>
                    <span>|</span>
                    <a href="javascript:;">友情链接</a>
                    <span>|</span>
                    <a href="javascript:;">清华地图</a>
                </div>
                <p>
                    清华大学新闻中心版权所有，清华大学新闻网编辑部维护，电子信箱:news@tsinghua.edu.cn<br>
                    Copyright 2001-2020 news.tsinghua.edu.cn. All rights reserved.
                </p>
            </div>
        </div>
    </div>

</body>

</html>
<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.11.1.min.js"></script>
<script>
    let newLis = document.querySelector("#news ul");
    let pag1;
    /* 请求绑定数据 */
    let getData = (() => {
        return function getData(url, callback) {
            let xhr = new XMLHttpRequest;
            xhr.open("get", url);
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && /^2\d{2}$/.test(xhr.status)) {
                    callback(JSON.parse(xhr.responseText));
                }
            }
            xhr.send();
        }
    })()
    //绑定数据
    let bind = (() => {
        function eachData(data) {
            let Inlis = ``;
            let Inlistwo = ``;
            let swiperItem = ``;
            let moveItem = ``;
            let hotItem = ``;
            data[0].forEach(item => {
                Inlis +=
                    `<li>
                        <a href="javascript:;" class="scal"><img src="${item.src}"alt=""></a>
                        <div class="time"><p>${item.p}</p><span>${item.span}</span></div><a href="javascript:;" class="title">${item.title}</a><p class="context">${item.context}</p></li>`;
            });
            data[1].forEach(item => {
                Inlistwo +=
                    `                <li>
                    <div class="time contTime">
                        <p>${item.p}</p>
                        <span>${item.span}</span>
                    </div>
                    <div class="cont">
                        <a href="javascript:;" class="title contT">${item.title}</a>
                        <p class="context">${item.context}</p>
                    </div>
                </li>`;
            });
            data[2].forEach(item => {
                swiperItem += `                    <li>
                        <img src="${item.src}"
                            alt="">
                        <span>${item.span}</span>

                    </li>`
            })
            data[3].forEach(item => {
                moveItem += `                <li>
                <a href="javascript:;">
                    <img src="${item.src}"alt="">
                </a>
                    <a href="javascript:;">${item.a}</a>
                    <b><span></span></b>
                </li>`;
            })
            data[4].forEach(item => {
                hotItem += `                <li>
                    <div class="hotBox">
                        <span class="iconfont icon-naozhong"></span>
                        <span>${item.span1}</span>
                        <span class="iconfont icon-yanjing"></span>
                        <span>${item.span2}</span>
                    </div>
                    <p><a href="javascript:;">${item.a}</a></p>
                </li>`
            })
            newLis.innerHTML = Inlis;
            colum.innerHTML = Inlistwo;
            pag1 = colum.querySelectorAll("li");
            swiperItem += `<li>
                        <img src="${data[2][0].src}"
                            alt="">
                        <span>【组图】${data[2][0].span}</span>

                    </li>`
            swipUl.innerHTML = swiperItem;
            move.innerHTML = moveItem;
            hot.innerHTML = hotItem;
            return Inlistwo;
        }

        getData("qinghua.json", eachData)
    })()
    /* 导航input按钮 */
    let inp = (() => {
        let btn = document.querySelector("#btn");
        btn.onclick = function btnOn() {
            let inpContext = document.querySelector("#headerCen input").innerText;
            if (inpContext) {
                alert("输入无效，没设置")
            } else {
                alert("请输入搜索内容")
            }
        }
    })()
    /* 轮播 */
    let swp = (() => {
        let step = 0;

        function autoMove(index) {
            step++;
            typeof index === "undefined" ? null : step = index;
            if (step >= swipUl.querySelectorAll("li").length) {
                step = 1;
                swipUl.style.left = 0 + "px";
            }
            appearSpot()
            $("#swipUl").animate({
                left: -step * 291.21
            }, 500)
        }
        /* 左右按钮 */
        let btnL = document.querySelectorAll(".btn span")[0];
        let btnR = document.querySelectorAll(".btn span")[1];
        /* 鼠标悬浮 */
        let timer = setInterval(autoMove, 1000);
        let swd = document.querySelector("#swd");
        swd.onmouseover = function () {
            clearInterval(timer);
            btnL.style.display = "block";
            btnR.style.display = "block";
        }
        swd.onmouseout = function () {

            timer = setInterval(autoMove, 1000);
            btnL.style.display = "none";
            btnR.style.display = "none";
        }
        let spotEle = document.querySelectorAll("#spot li");

        function appearSpot() {
            for (var i = 0; i < spotEle.length; i++) {
                if (step == i) {
                    spotEle[i].classList.add("spactive");
                } else {
                    spotEle[i].classList.remove("spactive")
                }
                if (step == 3) {
                    spotEle[0].classList.add("spactive");
                }
            }
        }
        appearSpot();
        for (let i = 0; i < spotEle.length; i++) {
            spotEle[i].onclick = function () {
                autoMove(i)
            }
        }
        btnR.onclick = function () {
            autoMove()
        }
        btnL.onclick = function () {
            step -= 2;
            if (step == -2) {
                swipUl.style.left = (swipUl.querySelectorAll("li").length - 1) * -291.21 + "px";
                step = swipUl.querySelectorAll("li").length - 3;
            }
            autoMove()
        }
    })()
    /* 顶部栏切换 */
    let header = (function () {
        let headerBot = document.getElementById("headerBot");
        let headerAc = headerBot.getElementsByClassName("active");
        headerBot.onclick = function (e) {
            let item = e.target;
            if (item.id === "headerBot" || item.nodeName === "LI") return;
            [].forEach.call(headerAc, (item) => {
                item.classList.remove("active");
            })
            item.nodeName === "A" ? item.parentNode.classList.add("active") : null;
        }
    }())
    /* 分页 */
    let pag = (() => {
        let left = paging.querySelector("span")[0];
        let right = paging.querySelector("span")[1];
        let lis = paging.querySelector("li");
        let ulEle = paging.querySelector("ul");

        function bindpag(data) {
            let pagItem = ``;
            data=`data${targT-1}`;
            [].forEach.call(data, item => {
                pagItem += `<li>
                    <div class="time contTime">
                        <p>${item.p}</p>
                        <span>${item.span}</span>
                    </div>
                    <div class="cont">
                        <a href="javascript:;" class="title contT">${item.title}</a>
                        <p class="context">${item.context}</p>
                    </div>
                </li>`
            })
            colum.innerHTML = pagItem;
        }
        paging.onclick = function (e) {
            let targ = e.target,
                targN = targ.tagName,
                targT = targ.innerText;
            if (e.target.tagName === "SPAN") {
                // getData(pag.json,bindpag);
            }
            if (e.target.tagName === "LI") {
                getData(pag.json,bindpag);
            }
        }
    })()
</script>